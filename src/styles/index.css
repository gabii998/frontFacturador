@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --ion-font-family: "Outfit", sans-serif;
  --ion-color-primary: #2563eb;
  --ion-color-primary-rgb: 37, 99, 235;
  --ion-color-primary-contrast: #ffffff;
  --ion-color-primary-shade: #1f57cf;
  --ion-color-primary-tint: #3b74eb;
  --ion-color-danger:#fcd7da !important;

  /* App palette - pastel blues */
  --app-bg: #f5f8ff;
  --app-bg-soft: #edf3ff;
  --app-surface: #ffffff;
  --app-surface-tint: #f7f9ff;
  --app-border: #dbe4f3;
  --app-text: #1d2636;
  --app-muted: #5b6b85;
  --app-accent: #5b8ef5;
  --app-accent-strong: #3f6fe0;
  --app-accent-soft: #e6efff;
  --app-warn: #c27c2c;
  --app-warn-soft: #fff3da;
  --app-info: #5b8ef5;
  --app-info-soft: #e6efff;
}

/* Prevent iOS Safari from auto-zooming form controls */
@media (max-width: 600px) {
  input,
  select,
  textarea,
  button {
    font-size: 16px !important;
  }
}

@layer components {
  .container-max { @apply max-w-6xl mx-auto px-4 w-full; }
  .card { @apply w-full rounded-2xl shadow p-6; background: var(--app-surface); }
  .page-bg { @apply min-h-screen; background: linear-gradient(180deg, var(--app-bg) 0%, var(--app-bg-soft) 100%); }
  .page-shell { @apply mx-auto w-full max-w-4xl px-4 py-10 sm:px-6 lg:px-0; }
  .page-shell-spacious { @apply mx-auto w-full max-w-4xl px-4 py-12 sm:px-6 lg:px-0; }
  .surface-card { @apply rounded-2xl border shadow-sm; background: var(--app-surface); border-color: var(--app-border); }
  .surface-card-soft { @apply rounded-2xl border shadow-sm; background: var(--app-surface-tint); border-color: var(--app-border); }
  .body-copy { @apply text-sm; color: var(--app-muted); }
  .body-copy-muted { @apply text-sm; color: color-mix(in srgb, var(--app-muted) 85%, #000 15%); }
  .caption-copy { @apply text-xs; color: color-mix(in srgb, var(--app-muted) 80%, #000 20%); }
  .panel-inset { @apply rounded-2xl border p-4 shadow-inner; background: var(--app-surface); border-color: var(--app-border); }
  .form-item { 
    @apply rounded-full px-6 border;
     border-color: var(--app-border); 
     transition: .5s;
  }
  .form-item:has(.has-focus) {
    border: 1px solid var(--ion-color-primary);
    transition: .5s;
    background: var(--app-accent-soft);
  }
   .form-item:has(.has-focus) > label {
    color: var(--ion-color-primary);
    transition: .5s;
  }
  .form-item > ion-select {
    height: 20px;
    min-height: 22px;
    font-size: 13px;
     --highlight-height: 0px;   /* línea al hacer focus */
  --border-width: 0px;       /* línea normal */
  --inner-border-width: 0px;
  }

  .form-item > ion-input {
    height: 20px;
    min-height: 22px;
    font-size: 13px;
    --highlight-height: 0px;   /* línea al hacer focus */
  --border-width: 0px;       /* línea normal */
  --inner-border-width: 0px;
  }
  .form-item > ion-select {
    height: 20px;
    min-height: 22px;
    font-size: 13px;
    --highlight-height: 0px;   /* línea al hacer focus */
  --border-width: 0px;       /* línea normal */
  --inner-border-width: 0px;
  width: 100%;
  }
  .form-item > label {
    font-weight: 600;
    font-size: 11px;
    letter-spacing: 0.7px;
  }
  ion-card {
    @apply p-8 rounded-3xl;
  }
  .form-item-sm { @apply rounded-xl border px-2 text-sm; background: var(--app-surface); border-color: var(--app-border); }
  .auth-input-item { @apply flex flex-col gap-2 text-sm rounded-xl border px-2; background: var(--app-surface-tint); border-color: var(--app-border); }

  .text-inactive {
    color: var(--app-muted)
  }
  .badge-inactive {
    background: var(--app-muted);
  }
  .badge-main {
    background: var(--ion-color-primary);
  }
  .metric-header {
    display: flex;
    gap: 20px;
  }
  .text-main {
    color: var(--ion-color-primary);
  }
  .btn {
    @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 border transition-colors duration-150;
    border-color: var(--app-border);
    color: var(--app-text);
    background: var(--app-surface);
  }

  .btn:hover {
    background: var(--app-surface-tint);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-semibold text-white shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200;
    background: linear-gradient(135deg, #3f6fe0, #7aa2ff);
    box-shadow: 0 12px 30px rgba(91, 142, 245, 0.35);
  }


  .input {
    @apply border rounded-xl px-3 py-2.5 w-full shadow-sm focus:outline-none focus:ring-4 transition;
    background: var(--app-surface-tint);
    border-color: var(--app-border);
    color: var(--app-text);
    focus-ring-color: color-mix(in srgb, var(--app-accent-soft) 70%, transparent);
  }

  .label { @apply text-sm; color: var(--app-muted); }

  .auth-shell {
    @apply w-full px-6 py-12 flex items-center justify-center text-white;
    background: radial-gradient(120% 120% at 0% 0%, rgba(122, 162, 255, 0.45) 0%, rgba(122, 162, 255, 0) 55%),
      radial-gradient(80% 120% at 100% 100%, rgba(165, 201, 255, 0.35) 0%, rgba(15, 23, 42, 0) 65%),
      linear-gradient(140deg, #101a33 0%, #162145 45%, #1b2a56 100%);
  }

  .auth-hero { @apply space-y-6 text-indigo-100; }

  .auth-hero__badge {
    @apply inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-semibold uppercase bg-white/10 text-white backdrop-blur;
    letter-spacing: 0.35em;
  }

  .auth-hero__title { @apply text-4xl font-semibold text-white leading-tight; }
  .auth-hero__subtitle { @apply text-base text-indigo-100/90 max-w-xl; }

  .auth-form { @apply space-y-7; }
  .auth-form__header { @apply space-y-3; }

  .auth-eyebrow {
    @apply text-xs font-semibold uppercase;
    color: var(--app-accent);
    letter-spacing: 0.32em;
  }

  .auth-form__title { @apply text-3xl font-semibold leading-tight; color: var(--app-text); }
  .auth-form__subtitle { @apply text-sm leading-relaxed; color: var(--app-muted); }

  .auth-form__body { @apply space-y-5; }

  .auth-field { @apply flex flex-col gap-2 text-sm; }
  .auth-field__label { @apply font-medium; color: var(--app-text); }

  .auth-form__footer { @apply space-y-3 text-sm; color: var(--app-muted); }
  .auth-link { @apply font-semibold hover:underline; color: var(--app-info); }

  .auth-form__success {
    @apply rounded-2xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-700;
    box-shadow: 0 10px 30px rgba(34, 197, 94, 0.15);
  }


  .dashboard-layout { @apply flex flex-col gap-8 w-full; }

  .side-menu {
    --padding-start:0px;
    --padding-end:0px;
    --padding-top:0px;
  }
  .side-menu::part(scroll) {
  padding-top: 0 !important;
  display: flex;
  flex-direction: column;
}
  .user-info {
    background: linear-gradient(135deg, #3f6fe0 0%, #5b8ef5 50%, #23335f 100%);
    color: white;
    padding: 40px 20px;
  }
  .user-info > ion-note {
    color: white;
  }
  .menu-content {
    flex: 1 1;
        display: flex;
    flex-direction: column;
    align-content: space-between;
    flex-wrap: wrap;
    width: 100%;
    background: white;
  }
  .menu-list {
    width: 100%;
    flex: 1 1 auto;
    padding-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .drawer-item {
    padding-left: 20px;
    padding-right: 20px;
    font-size: 14px;
    font-weight: 400;
    --border-radius: 10px;
  }

  .dashboard-hero {
    @apply relative overflow-hidden border px-8 py-10 text-white;
    border-color: color-mix(in srgb, var(--app-accent) 25%, transparent);
    background: linear-gradient(135deg, #3f6fe0 0%, #5b8ef5 50%, #23335f 100%);
  }

  .dashboard-hero__badge {
    @apply inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.32em];
  }

  .dashboard-hero__title { @apply text-3xl md:text-4xl font-semibold leading-tight; }
  .dashboard-hero__subtitle { @apply text-sm md:text-base text-indigo-100/90 max-w-2xl; }

  .dashboard-hero__meta {
    @apply grid gap-6 rounded-2xl border border-white/20 bg-white/10 p-4 text-sm md:grid-cols-2;
  }

  .dashboard-hero__services {
    @apply flex flex-wrap gap-3;
  }

  .service-chip {
    @apply inline-flex items-center gap-3 rounded-2xl border px-4 py-2 text-sm text-white backdrop-blur;
    border-color: color-mix(in srgb, #ffffff 35%, transparent);
    background: color-mix(in srgb, #ffffff 14%, transparent);
  }

  .service-chip__dot {
    @apply h-2.5 w-2.5 rounded-full;
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.15);
  }

  .service-chip__label { @apply block text-xs font-semibold uppercase tracking-[0.3em] opacity-80; }
  .service-chip__status { @apply text-sm font-semibold; }

  .service-chip--ok .service-chip__dot { @apply bg-emerald-400; }
  .service-chip--ok .service-chip__status { @apply text-emerald-100; }

  .service-chip--warn .service-chip__dot { @apply bg-amber-400; }
  .service-chip--warn .service-chip__status { @apply text-amber-100; }

  .meta-label { @apply block text-xs font-medium uppercase tracking-[0.25em] text-indigo-100/80; }
  .meta-value { @apply mt-1 text-base font-semibold text-white; }

  .dashboard-metrics {
    @apply grid gap-6 md:grid-cols-2 xl:grid-cols-3;
  }

  .metric-card {
    @apply pt-2 pb-1;
  }

  .metric-card__icon {
    @apply h-12 w-12 rounded-2xl bg-slate-100 text-slate-700 flex items-center justify-center;
  }

  .metric-card__icon svg { @apply h-6 w-6; }
  .metric-card__icon--blue { @apply text-blue-600; background: var(--app-accent-soft); }
  .metric-card__icon--purple { @apply text-indigo-600; background: color-mix(in srgb, var(--app-accent-soft) 70%, #eef2ff 30%); }
  .metric-card__icon--teal { @apply text-teal-600; background: color-mix(in srgb, var(--app-accent-soft) 60%, #e0f2fe 40%); }

  .metric-card__header { @apply flex flex-col gap-1; }
  .metric-card__label { @apply text-xs font-semibold uppercase tracking-[0.25em] text-slate-400; }
  .metric-card__value { @apply text-2xl font-semibold text-slate-900; }
  .metric-card__description { @apply text-sm; color: var(--app-muted); }

  .metric-card__cta {
    @apply inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-500;
  }

  .dashboard-secondary {
    @apply grid gap-6 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)];
  }

  .dashboard-card {
    @apply flex flex-col gap-5 rounded-3xl border p-6 shadow-lg;
    background: var(--app-surface);
    border-color: var(--app-border);
  }

  .dashboard-card__header { @apply flex items-start justify-between gap-4; }
  .dashboard-card__title { @apply text-xl font-semibold text-slate-900; }
  .dashboard-card__subtitle { @apply text-sm; color: var(--app-muted); }

  .insights-list { @apply flex flex-col gap-4; }
  .insight-item { @apply flex items-start gap-4 rounded-2xl border p-4; background: var(--app-surface-tint); border-color: var(--app-border); }

  .insight-dot { @apply mt-1 h-3 w-3 rounded-full; }
  .insight-dot--ok { @apply bg-emerald-500 shadow-[0_0_0_4px] shadow-emerald-100; }
  .insight-dot--info { @apply bg-blue-400 shadow-[0_0_0_4px] shadow-blue-100; }
  .insight-dot--warn { @apply bg-amber-400 shadow-[0_0_0_4px] shadow-amber-100; }

  .insight-item h3 { @apply text-sm font-semibold; color: var(--app-text); }
  .insight-item p { @apply text-xs; color: var(--app-muted); }

  .header-pill {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm;
    background: var(--app-surface-tint);
    color: var(--app-text);
    border: 1px solid var(--app-border);
  }

  .dashboard-alert {
    @apply flex flex-col gap-4 rounded-3xl border px-6 py-5 shadow;
    background: var(--app-info-soft);
    border-color: color-mix(in srgb, var(--app-info) 25%, transparent);
    color: #0f1f3a;
  }

  .dashboard-alert h3 { @apply text-lg font-semibold; }
  .dashboard-alert p { @apply text-sm text-blue-800/80; }

  .table {
    @apply w-full min-w-full text-sm text-slate-700;
  }

  .th {
    @apply px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.15em];
    background: var(--app-bg-soft);
    color: var(--app-muted);
  }

  .td {
    @apply px-4 py-4 align-top text-sm;
    color: var(--app-text);
  }

  .comprobante-row {
    @apply transition-colors;
    border-bottom: 1px solid var(--app-border);
    background: var(--app-surface);
  }

  .comprobante-row:hover {
    background: var(--app-surface-tint);
  }

  .comprobante-row--alert {
    background: var(--app-warn-soft);
    border-left: 4px solid color-mix(in srgb, var(--app-warn) 60%, transparent);
  }

  .comprobante-pill {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-[11px] font-semibold uppercase ;
    background: var(--app-accent-soft);
    color: var(--app-accent-strong);
  }

  .cae-pill {
    @apply px-2.5 py-1 text-[11px] rounded-full;
  }
  .cae-pill.ion-color-danger {
    color: #a7454c !important;
  }
  .comprobante-date {
    @apply flex flex-wrap items-center gap-2 text-[14px] font-semibold;
    line-height: 1.3;
  }

  .comprobante-serial {
    @apply font-mono text-xs;
    color: var(--app-muted);
  }

  .comprobante-kv {
    @apply flex flex-col gap-1;
  }

  .comprobante-label {
    margin-bottom: 2px;
    color: var(--app-muted);
    line-height: 1.2;
    letter-spacing: 0.04em;
    font-size: 11px;
  }

  .cae-header {
    @apply flex flex-wrap;
    align-items: center;
    gap: 5px
  }

  .comprobante-value {
    @apply text-sm font-semibold;
    color: var(--app-text);
  }

  .comprobante-subtle {
    @apply text-xs;
    color: var(--app-muted);
  }

  .comprobantes-page {
    @apply flex flex-col gap-6;
    min-height: 100%;
    height: 100%;
    overflow: hidden;
  }

  .comprobantes-content {
    @apply flex flex-col gap-6 flex-1;
    min-height: 0;
    overflow: hidden;
  }

  .comprobantes-grid {
    @apply grid gap-5;
    flex: 1;
    min-height: 0;
    overflow-y: auto;
    padding-right: 4px;
    scroll-behavior: smooth;
  }

  .comprobantes-table {
    @apply flex flex-col gap-4 flex-1;
    min-height: 0;
    overflow: hidden;
  }

  @media (min-width: 768px) {
    .comprobantes-grid {
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
  }

  .comprobante-card {
    @apply rounded-2xl border p-5 shadow-sm transition;
    background: var(--app-surface);
    border-color: var(--app-border);
  }

  .comprobante-card--alert {
    border-left: 4px solid color-mix(in srgb, var(--app-warn) 60%, transparent);
    background: color-mix(in srgb, var(--app-warn-soft) 70%, var(--app-surface) 30%);
  }

  .comprobante-card__header {
    @apply flex items-start justify-between gap-4;
  }

  .comprobante-card__meta {
    @apply mt-4;
    display: flex;
    flex-direction: column;
    gap: 18px;
  }

  .comprobante-actions {
    @apply mt-1;
    justify-self: end;
  }

  .comprobante-content {
    display: grid;
    grid-template-columns: minmax(0, 1fr) auto;
    gap: 8px 12px;
    align-items: start;
  }

  .comprobante-title {
    @apply text-sm font-semibold;
    color: var(--app-text);
    line-height: 1.3;
  }

  .comprobante-subtitle {
    @apply text-xs;
    color: var(--app-muted);
    line-height: 1.35;
  }

  .comprobante-kpi {
    @apply text-base font-semibold;
    color: var(--app-text);
    line-height: 1.2;
  }

  .comprobante-kpi-sub {
    @apply text-xs;
    color: var(--app-muted);
  }

  .comprobante-stack {
    @apply grid gap-1;
    row-gap: 4px;
  }

  .comprobante-card__body {
    @apply flex flex-col gap-4;
    padding: 18px;
  }

  .comprobante-card__header {
    margin-bottom: 2px;
  }
}

.auth-hero__list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 0.75rem;
}

.auth-hero__list li {
  position: relative;
  padding-left: 1.75rem;
  font-size: 0.95rem;
  line-height: 1.45;
  color: rgba(224, 231, 255, 0.92);
}

.auth-hero__list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0.45rem;
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 9999px;
  background: linear-gradient(135deg, #38bdf8 0%, #6366f1 100%);
  box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
}

@media (max-width: 1023px) {
  .auth-shell {
    @apply px-6 py-10 items-center;
    background: linear-gradient(175deg, #0f172a 0%, #0b1220 40%, #111827 100%);
  }

  .auth-hero {
    @apply space-y-5 text-center w-full;
  }

  .auth-hero__badge {
    @apply mx-auto;
    letter-spacing: 0.28em;
  }

  .auth-hero__title {
    @apply text-3xl leading-snug;
  }

  .auth-hero__subtitle {
    @apply text-sm max-w-sm mx-auto;
  }

  .auth-hero__list { display: none; }

  .auth-card {
    @apply max-w-xl w-full px-6 py-8 mt-2;
    box-shadow: 0 20px 50px rgba(15, 23, 42, 0.45);
  }

  .auth-form { @apply space-y-6 text-center; }
  .auth-form__title { @apply text-2xl; }
  .auth-form__subtitle { @apply text-sm mx-auto max-w-md; }
  .auth-form__body { @apply text-left; }
}

@media (max-width: 640px) {
  .auth-shell {
    @apply px-4 py-6;
  }

  .auth-hero {
    @apply space-y-4;
  }

  .auth-hero__title {
    @apply text-2xl;
  }

  .auth-hero__list {
    display: none;
  }

  .auth-card {
    @apply px-5 py-7 rounded-[28px];
  }

  .auth-form__title { @apply text-xl; }
  .auth-form__subtitle { @apply text-xs leading-relaxed text-center; }

  .auth-field__label { @apply text-sm; }
  .input { @apply text-sm py-2; }

  .btn-primary {
    @apply py-2.5 text-sm font-semibold;
  }

  .auth-form__footer { @apply text-xs; }

  .header-icon {
    @apply flex h-14 w-14 items-center justify-center rounded-2xl bg-white shadow-lg shadow-indigo-500/20 text-indigo-600;
  }
}

/* tailwind.config.css o tu css global */
@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}
.shimmer {
  position: relative;
  overflow: hidden;
}
.shimmer::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 1.5s infinite;
}

ion-header,ion-footer,ion-card,.dashboard-hero {
  box-shadow: none!important;
}
ion-card {
  border: 1px solid var(--app-border);
}

ion-item {
  --background: var(--app-surface-tint);
  --border-color: var(--app-border);
}

ion-input,
ion-select,
ion-textarea {
  --color: var(--app-text);
  --placeholder-color: color-mix(in srgb, var(--app-muted) 80%, #ffffff 20%);
}

ion-button {
  --background: var(--app-accent);
  --background-hover: color-mix(in srgb, var(--app-accent) 90%, #ffffff 10%);
  --color: #ffffff;
  --color-hover: #ffffff;
  --border-color: var(--app-border);
  --ripple-color: color-mix(in srgb, var(--app-accent-soft) 60%, transparent);
  --transition:.5s;
}

ion-button[fill="outline"] {
  --background: transparent;
  --background-hover: var(--ion-color-primary);
  --color: var(--app-accent-strong);
  --color-hover: var(--ion-color-primary);
  --border-color: color-mix(in srgb, var(--app-accent) 45%, var(--app-border) 55%);
}

ion-button[fill="clear"] {
  --background: transparent;
  --color: var(--app-accent-strong);
}

.action-buttons--sticky-mobile {
  @apply md:static;
}

.item-container {
  @apply mt-2 grid gap-2 md:grid-cols-[minmax(0,2.2fr)_minmax(0,1fr)_minmax(0,1fr)];
  padding: 0px;
  display: flex;
}
.item-card {
  padding: 0px 20px;
}
.remove {
  --ion-color-base: #c5000f!important;
}

@media (max-width: 767px) {
  .comprobante-card__meta {
    margin-top: 6px;
    gap: 10px;
  }
  .comprobante-content {
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .comprobante-stack {
    gap: 2px;
  }
  .comprobante-actions {
    margin-top: 2px;
    width: 100%;
    justify-self: stretch;
  }
  .text-inactive {
      display: none
    }
  .action-buttons--sticky-mobile {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 20;
    padding: 12px 12px 16px;
    border-top: 1px solid var(--app-border);
    background: white;
    backdrop-filter: blur(8px);
  }
  .caption-copy {
    display: none;
  }
  ion-content {
    --padding-top: 100px!important;
  }
}
ion-button {
  --border-radius: 2rem;
  text-transform: capitalize;
}

ion-content {
  --padding-start:20px;
  --padding-end:20px;
  --padding-top:20px;
  --background:var(--app-bg);
}
